(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8f5f244"],{"1ce1":function(t,e,o){"use strict";var n=o("9b81"),s=o.n(n);s.a},"8d6a":function(t,e,o){"use strict";var n=o("f6b3"),s=o.n(n);s.a},"9b81":function(t,e,o){},ebad:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list"},[o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("NavTo")],1),o("el-container",{staticClass:"pro-list"},[o("el-header",{staticStyle:{"border-bottom":"1px solid #d0d0d0","background-color":"#FFFFFF"}},[o("Header")],1),o("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[o("el-main",{staticStyle:{"background-color":"#F3F3F3"}},[o("list-a",{attrs:{down:t.down}})],1)],1)],1)],1)],1)},s=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-a"},[t.addShow?t._e():o("div",{staticClass:"tab-btn"},[o("el-button",{attrs:{size:"medium"},on:{click:t.all}},[t._v("在售商品")]),o("el-button",{attrs:{size:"medium"},on:{click:t.getDownPro}},[t._v("下架商品")])],1),o("div",[t.addShow?o("div",{staticClass:"add-category "},[o("Good",{attrs:{eid:t.eid},on:{emit_tg:t.emit_tg_list,back:t.back}})],1):t._e(),t.addShow?t._e():o("div",{staticClass:"list"},[o("div",{staticClass:"list-head"},[o("div",{staticClass:"liat-head-01"},[o("el-row",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.on_add}},[t._v("发布商品")]),o("el-button",{attrs:{type:"warning",size:"small"},on:{click:t.sort_sub}},[t._v("更新排序")]),o("el-button",{attrs:{type:"success",size:"small"},on:{click:t.getProductList}},[t._v("刷新")])],1)],1),o("div",{staticClass:"liat-head-02",staticStyle:{"padding-left":"30px"}},[o("el-input",{staticStyle:{width:"98%"},attrs:{placeholder:"商品名称",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),o("div",{staticClass:"liat-head-03"},[o("el-row",[o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.serach(t.value)}}},[t._v("搜索")])],1)],1)]),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.product,border:"","default-sort":{prop:"sort",order:"descending"}}},[o("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:e.row.sort,callback:function(o){t.$set(e.row,"sort",o)},expression:"scope.row.sort"}})]}}],null,!1,900905939)}),o("el-table-column",{attrs:{label:"商品名称",width:"550"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticStyle:{display:"flex"}},[e.row.imgs?o("div",{staticClass:"product-img"},[o("img",{attrs:{src:t.$getimg+e.row.imgs}})]):t._e(),o("div",{staticClass:"product-mes"},[o("p",[t._v(t._s(e.row.goods_name))]),o("p",[t._v(t._s(e.row.description))])])])]}}],null,!1,3715628569)}),o("el-table-column",{attrs:{prop:"price",label:"价格",sortable:""}}),o("el-table-column",{attrs:{prop:"stock",label:"总库存",sortable:""}}),o("el-table-column",{attrs:{prop:"sales",label:"销量",sortable:""}}),o("el-table-column",{attrs:{label:"是否热销",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(o){return t.set_hot(e.row.goods_id)}},model:{value:e.row.is_hot,callback:function(o){t.$set(e.row,"is_hot",o)},expression:"scope.row.is_hot"}})]}}],null,!1,762428361)}),o("el-table-column",{attrs:{label:"是否新品",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(o){return t.set_new(e.row.goods_id)}},model:{value:e.row.is_new,callback:function(o){t.$set(e.row,"is_new",o)},expression:"scope.row.is_new"}})]}}],null,!1,55133129)}),o("el-table-column",{attrs:{label:"是否下架",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#DCDFE6","inactive-color":"#F56C6C"},on:{change:function(o){return t.set_down(e.row.goods_id,e.$index)}},model:{value:e.row.state,callback:function(o){t.$set(e.row,"state",o)},expression:"scope.row.state"}})]}}],null,!1,3562652848)}),o("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success",size:"small"},on:{click:function(o){return t.on_edit(e.row.goods_id)}}},[t._v("编辑")]),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(o){return t.del(e.row.goods_id,e.$index)}},slot:"reference"},[t._v("删除")])]}}],null,!1,766361398)})],1)],o("el-pagination",{staticStyle:{"padding-top":"60px","text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.size},on:{"current-change":t.jump_page}})],2)])])},i=[],l=(o("6d57"),o("309f"),o("0b53"),o("06a2"),o("ec25"),o("cc57"),o("2b45"),o("c904"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o(t.comview,{tag:"component",attrs:{eid:t.eid},on:{emit_tangou:t.emit_tg,back:t.back}})],1)}),r=[],c=(o("b705"),o("a49b"),o("7370")),d={name:"Good",props:["eid"],data:function(){return{comview:""}},components:{Pro:c["a"]},methods:{back:function(){this.$emit("back")},emit_tg:function(){this.$emit("emit_tg")}},mounted:function(){this.comview="Pro"}},u=d,p=o("9ca4"),f=Object(p["a"])(u,l,r,!1,null,null,null),h=f.exports;function m(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=w(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function w(t,e){if(t){if("string"===typeof t)return _(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var b={name:"List-b",props:["down"],data:function(){return{allB:"",value:"",inpue:"",visible2:!1,product:[],addShow:!1,eid:0,size:8,total:0,is_hot:!0}},components:{Good:h},mounted:function(){this.getProductList()},methods:{serach:function(t){console.log(t);var e,o=[],n=m(this.product);try{for(n.s();!(e=n.n()).done;){var s=e.value,a=s.goods_name.indexOf(t);a>=0&&o.push(s)}}catch(i){n.e(i)}finally{n.f()}this.product=o},sort_sub:function(){var t=this,e={},o=this;console.log("pro:",o.product);var n,s=m(o.product);try{for(s.s();!(n=s.n()).done;){var a=n.value;e[a.goods_id]=a.sort}}catch(i){s.e(i)}finally{s.f()}this.http.post_show("product/admin/set_sort",e).then((function(e){t.$message({message:"操作成功",type:"success"})}))},all:function(){var t=this;this.value="",this.http.post_show("product/admin/get_product").then((function(e){t.total=e.data.length,t.allB=e.data,t.product=e.data.slice(0,t.size)}))},jump_page:function(t){var e=this,o=(t-1)*e.size,n=t*e.size;console.log(o,n),this.product=this.allB.slice(o,n)},on_add:function(){this.addShow=!0,this.eid=0},on_edit:function(t){this.addShow=!0,this.eid=t},back:function(){this.order_id=0,this.addShow=!1,this.getProductList()},getProductList:function(){var t=this;this.http.post_show("product/admin/all_goods_info").then((function(e){t.allB=e.data,t.product=e.data.slice(0,t.size),t.total=e.data.length}))},getDownPro:function(){var t=this;this.http.post_show("product/admin/get_products_down").then((function(e){t.allB=e.data,t.product=e.data,t.total=e.data.length}))},del:function(t,e){var o=this,n=this;localStorage.getItem("oauth");this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.http.put_show("product/admin/del_product",{id:t}).then((function(t){n.$message({showClose:!0,message:"删除成功",type:"success"}),n.product.splice(e,1),o.getProductList()}))}))},set_hot:function(t){this.http.put_show("cms/update",{id:t,db:"goods",field:"is_hot"}).then((function(t){console.log(t)}))},set_new:function(t){this.http.put_show("cms/update",{id:t,db:"goods",field:"is_new"}).then((function(t){console.log(t)}))},set_down:function(t,e){var o=this;this.http.put_show("cms/update",{id:t,db:"goods",field:"state"}).then((function(t){o.$message({message:"成功",type:"success"}),o.product.splice(e,1)}))},emit_tg_list:function(){this.addShow=!1,this.eid=0,this.getProductList()}}},g=b,v=(o("8d6a"),Object(p["a"])(g,a,i,!1,null,"1d00498d",null)),y=v.exports,k=o("15fc"),S=o("71c2"),x={data:function(){return{activeName:"first",visible2:!1,product:[],addShow:!1,down:!1,eid:0,page:[],drawer:!1}},components:{ListA:y,NavTo:k["a"],Header:S["a"]},methods:{emit_one:function(){console.log(123)}},mounted:function(){}},C=x,F=(o("1ce1"),Object(p["a"])(C,n,s,!1,null,"07684ca8",null));e["default"]=F.exports},f6b3:function(t,e,o){}}]);